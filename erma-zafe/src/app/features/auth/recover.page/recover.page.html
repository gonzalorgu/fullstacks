<section class="auth-wrap">
  <div class="card">
    <div class="logo">
      <img src="assets/h.png" alt="Logo vestidos" class="brand-icon" />
      <div class="brand-text">
        <span class="brand-script">Erma Zafe</span>
        <small>Venta y alquiler<br />de vestido</small>
      </div>
    </div>

    <h1 class="title">Recuperar contraseña</h1>
    
    @if (!success()) {
      <p class="subtitle">
        Ingresa tu correo y te enviaremos instrucciones<br />
        para restablecer tu contraseña.
      </p>
    }

    @if (error()) {
      <p class="error">{{ error() }}</p>
    }

    @if (success()) {
      <div class="success-message">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <h2>¡Correo enviado!</h2>
        <p>Revisa tu bandeja de entrada.<br />Te enviamos instrucciones para recuperar tu contraseña.</p>
        <p class="redirect-info">Serás redirigido al login en 3 segundos...</p>
      </div>
    } @else {
      <label class="field">
        <span>correo</span>
        <input
          type="email"
          placeholder="tucorreo@ejemplo.com"
          [value]="email()"
          (input)="onEmail($event)"
        />
      </label>

      <button
        class="btn primary"
        type="button"
        (click)="sendCode()"
        [disabled]="loading()"
      >
        {{ loading() ? 'Enviando…' : 'Enviar instrucciones' }}
      </button>
    }

    <div class="links">
      <a routerLink="/login">← Volver a iniciar sesión</a>
    </div>
  </div>
</section>